

## Kmom05

Övningen gick överlag bra. Jag följde hela övningen inklusive mariadb-instruktionerna då jag önskade använda mig av detta för uppgiften. Det fanns ingenting speciellt jag
reagerade på under övningen förutom att jag fick oväntade resultat när jag körde flera migrationer i rad. När jag tog bort tidigare migrationsfiler löstes dock detta. Dessutom fick jag problem med sökvägar när jag skulle sätta upp databasen på studentservern, vilket jag löste genom att köra "composer dump-autoload". Detta problem har jag stött på tidigare, där sökvägen i "vendor/autoload_runtime.php" inte stämmer på studentservern. I övrigt kände jag att jag fick en god förståelse för de olika beståndsdelarna, hur de fungerade och hur kommunikation mot databasen kan skötas via symfony och doctrine.

Applikationen i övrigt är relativt enkel. När det kommer till användargränssnittet har jag valt att hålla gränssnittet enkelt och sparsmakat i linje med resten av hemsidan och med tanke på den begränsade mängd information som presenteras. För sidor för att visa böcker (alla böcker respektive en bok), valde jag att använda en enda template för visning av resultat, där titlar och rubriker skickas med i kontrollern och tabeller genereras i en loop. Jag lade dessutom till en extra route ("library/show/isbn/) för att istället för bok-id också kunna söka på ISBN. Länkar till enskilda böcker länkar till denna sida så att användare enkelt ska kunna komma till en specifik boksida om de känner till ISBN för boken. Jag har även lagt till sökfunktion för id/isbn på startsidan för biblioteket. Här har jag istället för att skicka information med GET använt mig av javascript för att lägga till eventhanterare på sökknapparna vari korrekta länkar byggs och användare vidarebefordras när dessa klickas. Jag har valt denna lösning då jag ville kunna skicka användaren till korrekt route (dvs. "library/show/{id}" resp. "library/show/isbn/{isbn}") istället för att hämta sidor med url-queries och GET.

För sidor med formulär för uppdatering och radering av böcker valde jag att sköta dessa via routes som använder sig av metoden "POST". Detta för att undvika att användare kommer in på sidan av misstag och istället måste klicka sig vidare till dessa sidor via visningssidorna för böckerna (antingen alla eller enskilda böcker). Även processingsidor för dessa moment sköts självklart via post. Orm fungerade alldeles utmärkt för att arbeta mot databasen, i synnerhet när man arbetar mot en enskild tabell. Även om jag inte har några problem med att arbeta mot sql-databaser i PHP, vilket vi lärt oss i tidigare kurser, kände jag att upplägget var lätt att förstå och använda. Jag stötte här inte på några större problem, förutom vid migrering, vilket nämnts ovan. Jag har ännu inte försökt mig på att arbeta mot flera tabeller, men kommer nog att försöka ge mig på detta i projektet.

För detta kursmoment gav jag mig även på att utföra extrauppgiften. Jag löste nästan alla deluppgifter, förutom de som rör admin-funktionalitet, då jag kände att jag inte har tid för detta för detta kursmoment. Jag har även inte ställt in några gravitar-ikonen för användarna, utan bilderna som visas i användarprofilerna är "default"-bilder. Dessa uppgifter gick i mångt och mycket att lösa på samma sätt som biblioteksuppgiften, med tillägg av sparning av inloggningsuppgifter i sessionen och kontroller av inloggningsstatus i samtliga routes för att säkerställa att rätt menyalternativ visas i navigationen (login eller användare). Visning av rätt menyalternativ i navigationen tror jag lättare skulle kunna lösas med hjälp av att definiera globala variabler, och/eller lägga till sessionen som en global variabel för åtkomst i twig, dock så valde jag att sköta det hela manuellt för detta projekt. Ny användare kan man skapa från login-sidan och om användare loggar in kan de uppdatera sina kontouppgifter, radera sitt konto samt logga ut från sin användarsida. Allt detta har skötts via post, även länkning till sidor, för att undvika att användare kommer in på fel sidor av misstag, och istället måste klicka sig till respektive användarsida.

Jag känner än så länge att ORM har varit väldigt trevligt och lätt att arbeta med när det kommer till enkla CRUD-operationer och jag känner att det blir snyggare och mer lättläslig kod i applikationen istället för att behöva hantera SQL-queries. Jag känner även att det är väldigt logiskt att koppla klasser till varje enskild tabell, vilket återigen underlättar förståelse för vad som pågår, men jag känner att detta arbetssätt möjligtvis kan komplicera det hela när man arbetar mot flera tabeller. 

Å andra sidan känner jag att det möjligtvis kan bli svårare att felsöka programmet vid problem som rör databasen och sql-kod då denna kod abstraheras bort. Jag kan på så sätt uppskatta ett mer traditionellt och direkt arbetssätt där man själv måste bygga funktioner och funktionalitet för att kommunicera med databasen och där man själv skriver SQL-koden. Detta ger en mer kontroll och kan nog underlätta mer komplicerade operationer.

Mitt TIL för detta kursmoment rör ORM, detta koncept där klasser och objekt används för att kommunicera mot databaser och motsvarande tabeller. Tillvägagångssättet känns väldigt logiskt, i synnerhet för enkla CRUD-operationer, då en sql-tabell ofta mycket lätt kan översättas till en klass och objekt. Detta är definitivt ett arbetssätt jag kan tänka mig använda mig mer av i framtida projekt.

Sist men inte minst vill jag nämna att jag har löst de problem som pekats ut av lintern förutom det flertal problem som rörde de filer som autogenererats av Doctrine, då jag ej ville röra denna kod. Här klagades det till exempel på korta variabelnamn för egenskaper så som "id.
